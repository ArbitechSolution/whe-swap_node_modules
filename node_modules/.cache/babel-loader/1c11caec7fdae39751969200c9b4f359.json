{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"D:/New folder/whe-swap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"D:/New folder/whe-swap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"D:/New folder/whe-swap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{JSBI,Token}from'@pancakeswap-libs/sdk';import React,{useCallback,useContext,useEffect,useMemo,useState}from'react';import{ThemeContext}from'styled-components';import confirmPriceImpactWithoutFee from'components/swap/confirmPriceImpactWithoutFee';import{useActiveWeb3React}from'hooks';import{useCurrency}from'hooks/Tokens';import{ApprovalState,useApproveCallbackFromTrade}from'hooks/useApproveCallback';import{useSwapCallback}from'hooks/useSwapCallback';import useWrapCallback,{WrapType}from'hooks/useWrapCallback';import{Field}from'state/swap/actions';import{useDefaultsFromURLSearch,useDerivedSwapInfo,useSwapActionHandlers,useSwapState}from'state/swap/hooks';import{useExpertModeManager,useUserDeadline,useUserSlippageTolerance}from'state/user/hooks';import{maxAmountSpend}from'utils/maxAmountSpend';import{computeTradePriceBreakdown,warningSeverity}from'utils/prices';import useI18n from'hooks/useI18n';import'./index.css';import Cake from'./logo_icon.png';import logo from'./logo.png';var Swap=function Swap(){var _ref3,_ref4,_parsedAmounts$indepe,_parsedAmounts$indepe2,_parsedAmounts$depend,_parsedAmounts$depend2,_formattedAmounts,_parsedAmounts$indepe3,_parsedAmounts$Field$;var loadedUrlParams=useDefaultsFromURLSearch();var TranslateString=useI18n();// token warning stuff\nvar _ref=[useCurrency(loadedUrlParams===null||loadedUrlParams===void 0?void 0:loadedUrlParams.inputCurrencyId),useCurrency(loadedUrlParams===null||loadedUrlParams===void 0?void 0:loadedUrlParams.outputCurrencyId)],loadedInputCurrency=_ref[0],loadedOutputCurrency=_ref[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),dismissTokenWarning=_useState2[0],setDismissTokenWarning=_useState2[1];var _useState3=useState({selectedToken:null,purchaseType:null}),_useState4=_slicedToArray(_useState3,2),transactionWarning=_useState4[0],setTransactionWarning=_useState4[1];var urlLoadedTokens=useMemo(function(){var _filter,_ref2;return(_filter=(_ref2=[loadedInputCurrency,loadedOutputCurrency])===null||_ref2===void 0?void 0:_ref2.filter(function(c){return c instanceof Token;}))!==null&&_filter!==void 0?_filter:[];},[loadedInputCurrency,loadedOutputCurrency]);var handleConfirmTokenWarning=useCallback(function(){setDismissTokenWarning(true);},[]);var handleConfirmWarning=function handleConfirmWarning(){setTransactionWarning({selectedToken:null,purchaseType:null});};var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account;var theme=useContext(ThemeContext);var _useExpertModeManager=useExpertModeManager(),_useExpertModeManager2=_slicedToArray(_useExpertModeManager,1),isExpertMode=_useExpertModeManager2[0];// get custom setting values for user\nvar _useUserDeadline=useUserDeadline(),_useUserDeadline2=_slicedToArray(_useUserDeadline,1),deadline=_useUserDeadline2[0];var _useUserSlippageToler=useUserSlippageTolerance(),_useUserSlippageToler2=_slicedToArray(_useUserSlippageToler,1),allowedSlippage=_useUserSlippageToler2[0];// swap state\nvar _useSwapState=useSwapState(),independentField=_useSwapState.independentField,typedValue=_useSwapState.typedValue,recipient=_useSwapState.recipient;var _useDerivedSwapInfo=useDerivedSwapInfo(),v2Trade=_useDerivedSwapInfo.v2Trade,currencyBalances=_useDerivedSwapInfo.currencyBalances,parsedAmount=_useDerivedSwapInfo.parsedAmount,currencies=_useDerivedSwapInfo.currencies,swapInputError=_useDerivedSwapInfo.inputError;var _useWrapCallback=useWrapCallback(currencies[Field.INPUT],currencies[Field.OUTPUT],typedValue),wrapType=_useWrapCallback.wrapType,onWrap=_useWrapCallback.execute,wrapInputError=_useWrapCallback.inputError;var showWrap=wrapType!==WrapType.NOT_APPLICABLE;var trade=showWrap?undefined:v2Trade;var parsedAmounts=showWrap?(_ref3={},_defineProperty(_ref3,Field.INPUT,parsedAmount),_defineProperty(_ref3,Field.OUTPUT,parsedAmount),_ref3):(_ref4={},_defineProperty(_ref4,Field.INPUT,independentField===Field.INPUT?parsedAmount:trade===null||trade===void 0?void 0:trade.inputAmount),_defineProperty(_ref4,Field.OUTPUT,independentField===Field.OUTPUT?parsedAmount:trade===null||trade===void 0?void 0:trade.outputAmount),_ref4);var _useSwapActionHandler=useSwapActionHandlers(),onSwitchTokens=_useSwapActionHandler.onSwitchTokens,onCurrencySelection=_useSwapActionHandler.onCurrencySelection,onUserInput=_useSwapActionHandler.onUserInput,onChangeRecipient=_useSwapActionHandler.onChangeRecipient;var isValid=!swapInputError;var dependentField=independentField===Field.INPUT?Field.OUTPUT:Field.INPUT;var handleTypeInput=useCallback(function(value){onUserInput(Field.INPUT,value);},[onUserInput]);var handleTypeOutput=useCallback(function(value){onUserInput(Field.OUTPUT,value);},[onUserInput]);// modal and loading\nvar _useState5=useState({showConfirm:false,tradeToConfirm:undefined,attemptingTxn:false,swapErrorMessage:undefined,txHash:undefined}),_useState6=_slicedToArray(_useState5,2),_useState6$=_useState6[0],showConfirm=_useState6$.showConfirm,tradeToConfirm=_useState6$.tradeToConfirm,swapErrorMessage=_useState6$.swapErrorMessage,attemptingTxn=_useState6$.attemptingTxn,txHash=_useState6$.txHash,setSwapState=_useState6[1];var formattedAmounts=(_formattedAmounts={},_defineProperty(_formattedAmounts,independentField,typedValue),_defineProperty(_formattedAmounts,dependentField,showWrap?(_parsedAmounts$indepe=(_parsedAmounts$indepe2=parsedAmounts[independentField])===null||_parsedAmounts$indepe2===void 0?void 0:_parsedAmounts$indepe2.toExact())!==null&&_parsedAmounts$indepe!==void 0?_parsedAmounts$indepe:'':(_parsedAmounts$depend=(_parsedAmounts$depend2=parsedAmounts[dependentField])===null||_parsedAmounts$depend2===void 0?void 0:_parsedAmounts$depend2.toSignificant(6))!==null&&_parsedAmounts$depend!==void 0?_parsedAmounts$depend:''),_formattedAmounts);var route=trade===null||trade===void 0?void 0:trade.route;var userHasSpecifiedInputOutput=Boolean(currencies[Field.INPUT]&&currencies[Field.OUTPUT]&&((_parsedAmounts$indepe3=parsedAmounts[independentField])===null||_parsedAmounts$indepe3===void 0?void 0:_parsedAmounts$indepe3.greaterThan(JSBI.BigInt(0))));var noRoute=!route;// check whether the user has approved the router on the input token\nvar _useApproveCallbackFr=useApproveCallbackFromTrade(trade,allowedSlippage),_useApproveCallbackFr2=_slicedToArray(_useApproveCallbackFr,2),approval=_useApproveCallbackFr2[0],approveCallback=_useApproveCallbackFr2[1];// check if user has gone through approval process, used to show two step buttons, reset on token change\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),approvalSubmitted=_useState8[0],setApprovalSubmitted=_useState8[1];// mark when a user has submitted an approval, reset onTokenSelection for input field\nuseEffect(function(){if(approval===ApprovalState.PENDING){setApprovalSubmitted(true);}},[approval,approvalSubmitted]);var maxAmountInput=maxAmountSpend(currencyBalances[Field.INPUT]);var atMaxAmountInput=Boolean(maxAmountInput&&((_parsedAmounts$Field$=parsedAmounts[Field.INPUT])===null||_parsedAmounts$Field$===void 0?void 0:_parsedAmounts$Field$.equalTo(maxAmountInput)));// the callback to execute the swap\nvar _useSwapCallback=useSwapCallback(trade,allowedSlippage,deadline,recipient),swapCallback=_useSwapCallback.callback,swapCallbackError=_useSwapCallback.error;var _computeTradePriceBre=computeTradePriceBreakdown(trade),priceImpactWithoutFee=_computeTradePriceBre.priceImpactWithoutFee;var handleSwap=useCallback(function(){if(priceImpactWithoutFee&&!confirmPriceImpactWithoutFee(priceImpactWithoutFee)){return;}if(!swapCallback){return;}setSwapState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{attemptingTxn:true,swapErrorMessage:undefined,txHash:undefined});});swapCallback().then(function(hash){setSwapState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{attemptingTxn:false,swapErrorMessage:undefined,txHash:hash});});}).catch(function(error){setSwapState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{attemptingTxn:false,swapErrorMessage:error.message,txHash:undefined});});});},[priceImpactWithoutFee,swapCallback,setSwapState]);// errors\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showInverted=_useState10[0],setShowInverted=_useState10[1];// warnings on slippage\nvar priceImpactSeverity=warningSeverity(priceImpactWithoutFee);// show approve flow when: no error on inputs, not approved or pending, or approved in current session\n// never show if price impact is above threshold in non expert mode\nvar showApproveFlow=!swapInputError&&(approval===ApprovalState.NOT_APPROVED||approval===ApprovalState.PENDING||approvalSubmitted&&approval===ApprovalState.APPROVED)&&!(priceImpactSeverity>3&&!isExpertMode);var handleConfirmDismiss=useCallback(function(){setSwapState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{showConfirm:false});});// if there was a tx hash, we want to clear the input\nif(txHash){onUserInput(Field.INPUT,'');}},[onUserInput,txHash,setSwapState]);var handleAcceptChanges=useCallback(function(){setSwapState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{tradeToConfirm:trade});});},[trade]);// This will check to see if the user has selected Syrup or SafeMoon to either buy or sell.\n// If so, they will be alerted with a warning message.\nvar checkForWarning=useCallback(function(selected,purchaseType){if(['SYRUP','SAFEMOON'].includes(selected)){setTransactionWarning({selectedToken:selected,purchaseType:purchaseType});}},[setTransactionWarning]);var handleInputSelect=useCallback(function(inputCurrency){setApprovalSubmitted(false);// reset 2 step UI for approvals\nonCurrencySelection(Field.INPUT,inputCurrency);if(inputCurrency.symbol==='SYRUP'){checkForWarning(inputCurrency.symbol,'Selling');}if(inputCurrency.symbol==='SAFEMOON'){checkForWarning(inputCurrency.symbol,'Selling');}},[onCurrencySelection,setApprovalSubmitted,checkForWarning]);var handleMaxInput=useCallback(function(){if(maxAmountInput){onUserInput(Field.INPUT,maxAmountInput.toExact());}},[maxAmountInput,onUserInput]);var handleOutputSelect=useCallback(function(outputCurrency){onCurrencySelection(Field.OUTPUT,outputCurrency);if(outputCurrency.symbol==='SYRUP'){checkForWarning(outputCurrency.symbol,'Buying');}if(outputCurrency.symbol==='SAFEMOON'){checkForWarning(outputCurrency.symbol,'Buying');}},[onCurrencySelection,checkForWarning]);useEffect(function(){try{document.body.classList.add('body');}catch(e){}},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{className:\"defi_main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{//  className=\"custom_logo_set\"\nclassName:\"logo_wheswap\",children:/*#__PURE__*/_jsx(\"img\",{src:logo})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 offset-md-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"defi_heading\",children:[/*#__PURE__*/_jsx(\"img\",{src:Cake}),/*#__PURE__*/_jsx(\"h1\",{children:\"Connect with wheswap and bridge the gap\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Swap, earn, yield stacks, welcome to the community driven platform, the home to DeFi.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"defi_btn\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/#/swap\",className:\"btn button defi_button_bg mr_btn\",style:{marginTop:'5px'},children:\"Enter App\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"btn button\",style:{marginTop:'5px'},children:\"Learn More\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"defi_price_box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Coming Soon\"}),/*#__PURE__*/_jsx(\"p\",{children:\"$WheSwap Price\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"defi_price_box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Coming Soon\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Liquidity\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"defi_price_box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Coming Soon\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Volume\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"defi_price_box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Coming Soon\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Pairs\"})]})})]})})]})})})});};export default Swap;","map":{"version":3,"sources":["D:/New folder/whe-swap/src/pages/Home/index.tsx"],"names":["JSBI","Token","React","useCallback","useContext","useEffect","useMemo","useState","ThemeContext","confirmPriceImpactWithoutFee","useActiveWeb3React","useCurrency","ApprovalState","useApproveCallbackFromTrade","useSwapCallback","useWrapCallback","WrapType","Field","useDefaultsFromURLSearch","useDerivedSwapInfo","useSwapActionHandlers","useSwapState","useExpertModeManager","useUserDeadline","useUserSlippageTolerance","maxAmountSpend","computeTradePriceBreakdown","warningSeverity","useI18n","Cake","logo","Swap","loadedUrlParams","TranslateString","inputCurrencyId","outputCurrencyId","loadedInputCurrency","loadedOutputCurrency","dismissTokenWarning","setDismissTokenWarning","selectedToken","purchaseType","transactionWarning","setTransactionWarning","urlLoadedTokens","filter","c","handleConfirmTokenWarning","handleConfirmWarning","account","theme","isExpertMode","deadline","allowedSlippage","independentField","typedValue","recipient","v2Trade","currencyBalances","parsedAmount","currencies","swapInputError","inputError","INPUT","OUTPUT","wrapType","onWrap","execute","wrapInputError","showWrap","NOT_APPLICABLE","trade","undefined","parsedAmounts","inputAmount","outputAmount","onSwitchTokens","onCurrencySelection","onUserInput","onChangeRecipient","isValid","dependentField","handleTypeInput","value","handleTypeOutput","showConfirm","tradeToConfirm","attemptingTxn","swapErrorMessage","txHash","setSwapState","formattedAmounts","toExact","toSignificant","route","userHasSpecifiedInputOutput","Boolean","greaterThan","BigInt","noRoute","approval","approveCallback","approvalSubmitted","setApprovalSubmitted","PENDING","maxAmountInput","atMaxAmountInput","equalTo","swapCallback","callback","swapCallbackError","error","priceImpactWithoutFee","handleSwap","prevState","then","hash","catch","message","showInverted","setShowInverted","priceImpactSeverity","showApproveFlow","NOT_APPROVED","APPROVED","handleConfirmDismiss","handleAcceptChanges","checkForWarning","selected","includes","handleInputSelect","inputCurrency","symbol","handleMaxInput","handleOutputSelect","outputCurrency","document","body","classList","add","e","marginTop"],"mappings":"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","sourcesContent":["import { CurrencyAmount, JSBI, Token, Trade } from '@pancakeswap-libs/sdk'\r\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from 'react'\r\nimport { ArrowDown } from 'react-feather'\r\nimport { CardBody, ArrowDownIcon, Button, IconButton, Text } from '@pancakeswap-libs/uikit'\r\nimport { ThemeContext } from 'styled-components'\r\nimport AddressInputPanel from 'components/AddressInputPanel'\r\nimport Card, { GreyCard } from 'components/Card'\r\nimport { AutoColumn } from 'components/Column'\r\nimport ConfirmSwapModal from 'components/swap/ConfirmSwapModal'\r\nimport CurrencyInputPanel from 'components/CurrencyInputPanel'\r\nimport CardNav from 'components/CardNav'\r\nimport { AutoRow, RowBetween } from 'components/Row'\r\nimport AdvancedSwapDetailsDropdown from 'components/swap/AdvancedSwapDetailsDropdown'\r\nimport confirmPriceImpactWithoutFee from 'components/swap/confirmPriceImpactWithoutFee'\r\nimport { ArrowWrapper, BottomGrouping, SwapCallbackError, Wrapper } from 'components/swap/styleds'\r\nimport TradePrice from 'components/swap/TradePrice'\r\nimport TokenWarningModal from 'components/TokenWarningModal'\r\nimport SyrupWarningModal from 'components/SyrupWarningModal'\r\nimport SafeMoonWarningModal from 'components/SafeMoonWarningModal'\r\nimport ProgressSteps from 'components/ProgressSteps'\r\n\r\nimport { INITIAL_ALLOWED_SLIPPAGE } from 'constants/index'\r\nimport { useActiveWeb3React } from 'hooks'\r\nimport { useCurrency } from 'hooks/Tokens'\r\nimport { ApprovalState, useApproveCallbackFromTrade } from 'hooks/useApproveCallback'\r\nimport { useSwapCallback } from 'hooks/useSwapCallback'\r\nimport useWrapCallback, { WrapType } from 'hooks/useWrapCallback'\r\nimport { Field } from 'state/swap/actions'\r\nimport { useDefaultsFromURLSearch, useDerivedSwapInfo, useSwapActionHandlers, useSwapState } from 'state/swap/hooks'\r\nimport { useExpertModeManager, useUserDeadline, useUserSlippageTolerance } from 'state/user/hooks'\r\nimport { LinkStyledButton } from 'components/Shared'\r\nimport { maxAmountSpend } from 'utils/maxAmountSpend'\r\nimport { computeTradePriceBreakdown, warningSeverity } from 'utils/prices'\r\nimport Loader from 'components/Loader'\r\nimport useI18n from 'hooks/useI18n'\r\nimport PageHeader from 'components/PageHeader'\r\nimport ConnectWalletButton from 'components/ConnectWalletButton'\r\nimport AppBody from '../AppBody'\r\nimport './index.css'\r\nimport Cake from './logo_icon.png'\r\nimport logo from './logo.png'\r\nconst Swap = () => {\r\n  const loadedUrlParams = useDefaultsFromURLSearch()\r\n  const TranslateString = useI18n()\r\n\r\n  // token warning stuff\r\n  const [loadedInputCurrency, loadedOutputCurrency] = [\r\n    useCurrency(loadedUrlParams?.inputCurrencyId),\r\n    useCurrency(loadedUrlParams?.outputCurrencyId),\r\n  ]\r\n  const [dismissTokenWarning, setDismissTokenWarning] = useState<boolean>(false)\r\n  const [transactionWarning, setTransactionWarning] = useState<{\r\n    selectedToken: string | null\r\n    purchaseType: string | null\r\n  }>({\r\n    selectedToken: null,\r\n    purchaseType: null,\r\n  })\r\n  const urlLoadedTokens: Token[] = useMemo(\r\n    () => [loadedInputCurrency, loadedOutputCurrency]?.filter((c): c is Token => c instanceof Token) ?? [],\r\n    [loadedInputCurrency, loadedOutputCurrency]\r\n  )\r\n  const handleConfirmTokenWarning = useCallback(() => {\r\n    setDismissTokenWarning(true)\r\n  }, [])\r\n\r\n  const handleConfirmWarning = () => {\r\n    setTransactionWarning({\r\n      selectedToken: null,\r\n      purchaseType: null,\r\n    })\r\n  }\r\n\r\n  const { account } = useActiveWeb3React()\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const [isExpertMode] = useExpertModeManager()\r\n\r\n  // get custom setting values for user\r\n  const [deadline] = useUserDeadline()\r\n  const [allowedSlippage] = useUserSlippageTolerance()\r\n\r\n  // swap state\r\n  const { independentField, typedValue, recipient } = useSwapState()\r\n  const { v2Trade, currencyBalances, parsedAmount, currencies, inputError: swapInputError } = useDerivedSwapInfo()\r\n  const { wrapType, execute: onWrap, inputError: wrapInputError } = useWrapCallback(\r\n    currencies[Field.INPUT],\r\n    currencies[Field.OUTPUT],\r\n    typedValue\r\n  )\r\n  const showWrap: boolean = wrapType !== WrapType.NOT_APPLICABLE\r\n  const trade = showWrap ? undefined : v2Trade\r\n\r\n  const parsedAmounts = showWrap\r\n    ? {\r\n        [Field.INPUT]: parsedAmount,\r\n        [Field.OUTPUT]: parsedAmount,\r\n      }\r\n    : {\r\n        [Field.INPUT]: independentField === Field.INPUT ? parsedAmount : trade?.inputAmount,\r\n        [Field.OUTPUT]: independentField === Field.OUTPUT ? parsedAmount : trade?.outputAmount,\r\n      }\r\n\r\n  const { onSwitchTokens, onCurrencySelection, onUserInput, onChangeRecipient } = useSwapActionHandlers()\r\n  const isValid = !swapInputError\r\n  const dependentField: Field = independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT\r\n\r\n  const handleTypeInput = useCallback(\r\n    (value: string) => {\r\n      onUserInput(Field.INPUT, value)\r\n    },\r\n    [onUserInput]\r\n  )\r\n  const handleTypeOutput = useCallback(\r\n    (value: string) => {\r\n      onUserInput(Field.OUTPUT, value)\r\n    },\r\n    [onUserInput]\r\n  )\r\n\r\n  // modal and loading\r\n  const [{ showConfirm, tradeToConfirm, swapErrorMessage, attemptingTxn, txHash }, setSwapState] = useState<{\r\n    showConfirm: boolean\r\n    tradeToConfirm: Trade | undefined\r\n    attemptingTxn: boolean\r\n    swapErrorMessage: string | undefined\r\n    txHash: string | undefined\r\n  }>({\r\n    showConfirm: false,\r\n    tradeToConfirm: undefined,\r\n    attemptingTxn: false,\r\n    swapErrorMessage: undefined,\r\n    txHash: undefined,\r\n  })\r\n\r\n  const formattedAmounts = {\r\n    [independentField]: typedValue,\r\n    [dependentField]: showWrap\r\n      ? parsedAmounts[independentField]?.toExact() ?? ''\r\n      : parsedAmounts[dependentField]?.toSignificant(6) ?? '',\r\n  }\r\n\r\n  const route = trade?.route\r\n  const userHasSpecifiedInputOutput = Boolean(\r\n    currencies[Field.INPUT] && currencies[Field.OUTPUT] && parsedAmounts[independentField]?.greaterThan(JSBI.BigInt(0))\r\n  )\r\n  const noRoute = !route\r\n\r\n  // check whether the user has approved the router on the input token\r\n  const [approval, approveCallback] = useApproveCallbackFromTrade(trade, allowedSlippage)\r\n\r\n  // check if user has gone through approval process, used to show two step buttons, reset on token change\r\n  const [approvalSubmitted, setApprovalSubmitted] = useState<boolean>(false)\r\n\r\n  // mark when a user has submitted an approval, reset onTokenSelection for input field\r\n  useEffect(() => {\r\n    if (approval === ApprovalState.PENDING) {\r\n      setApprovalSubmitted(true)\r\n    }\r\n  }, [approval, approvalSubmitted])\r\n\r\n  const maxAmountInput: CurrencyAmount | undefined = maxAmountSpend(currencyBalances[Field.INPUT])\r\n  const atMaxAmountInput = Boolean(maxAmountInput && parsedAmounts[Field.INPUT]?.equalTo(maxAmountInput))\r\n\r\n  // the callback to execute the swap\r\n  const { callback: swapCallback, error: swapCallbackError } = useSwapCallback(\r\n    trade,\r\n    allowedSlippage,\r\n    deadline,\r\n    recipient\r\n  )\r\n\r\n  const { priceImpactWithoutFee } = computeTradePriceBreakdown(trade)\r\n\r\n  const handleSwap = useCallback(() => {\r\n    if (priceImpactWithoutFee && !confirmPriceImpactWithoutFee(priceImpactWithoutFee)) {\r\n      return\r\n    }\r\n    if (!swapCallback) {\r\n      return\r\n    }\r\n    setSwapState((prevState) => ({ ...prevState, attemptingTxn: true, swapErrorMessage: undefined, txHash: undefined }))\r\n    swapCallback()\r\n      .then((hash) => {\r\n        setSwapState((prevState) => ({\r\n          ...prevState,\r\n          attemptingTxn: false,\r\n          swapErrorMessage: undefined,\r\n          txHash: hash,\r\n        }))\r\n      })\r\n      .catch((error) => {\r\n        setSwapState((prevState) => ({\r\n          ...prevState,\r\n          attemptingTxn: false,\r\n          swapErrorMessage: error.message,\r\n          txHash: undefined,\r\n        }))\r\n      })\r\n  }, [priceImpactWithoutFee, swapCallback, setSwapState])\r\n\r\n  // errors\r\n  const [showInverted, setShowInverted] = useState<boolean>(false)\r\n\r\n  // warnings on slippage\r\n  const priceImpactSeverity = warningSeverity(priceImpactWithoutFee)\r\n\r\n  // show approve flow when: no error on inputs, not approved or pending, or approved in current session\r\n  // never show if price impact is above threshold in non expert mode\r\n  const showApproveFlow =\r\n    !swapInputError &&\r\n    (approval === ApprovalState.NOT_APPROVED ||\r\n      approval === ApprovalState.PENDING ||\r\n      (approvalSubmitted && approval === ApprovalState.APPROVED)) &&\r\n    !(priceImpactSeverity > 3 && !isExpertMode)\r\n\r\n  const handleConfirmDismiss = useCallback(() => {\r\n    setSwapState((prevState) => ({ ...prevState, showConfirm: false }))\r\n\r\n    // if there was a tx hash, we want to clear the input\r\n    if (txHash) {\r\n      onUserInput(Field.INPUT, '')\r\n    }\r\n  }, [onUserInput, txHash, setSwapState])\r\n\r\n  const handleAcceptChanges = useCallback(() => {\r\n    setSwapState((prevState) => ({ ...prevState, tradeToConfirm: trade }))\r\n  }, [trade])\r\n\r\n  // This will check to see if the user has selected Syrup or SafeMoon to either buy or sell.\r\n  // If so, they will be alerted with a warning message.\r\n  const checkForWarning = useCallback(\r\n    (selected: string, purchaseType: string) => {\r\n      if (['SYRUP', 'SAFEMOON'].includes(selected)) {\r\n        setTransactionWarning({\r\n          selectedToken: selected,\r\n          purchaseType,\r\n        })\r\n      }\r\n    },\r\n    [setTransactionWarning]\r\n  )\r\n\r\n  const handleInputSelect = useCallback(\r\n    (inputCurrency) => {\r\n      setApprovalSubmitted(false) // reset 2 step UI for approvals\r\n      onCurrencySelection(Field.INPUT, inputCurrency)\r\n      if (inputCurrency.symbol === 'SYRUP') {\r\n        checkForWarning(inputCurrency.symbol, 'Selling')\r\n      }\r\n      if (inputCurrency.symbol === 'SAFEMOON') {\r\n        checkForWarning(inputCurrency.symbol, 'Selling')\r\n      }\r\n    },\r\n    [onCurrencySelection, setApprovalSubmitted, checkForWarning]\r\n  )\r\n\r\n  const handleMaxInput = useCallback(() => {\r\n    if (maxAmountInput) {\r\n      onUserInput(Field.INPUT, maxAmountInput.toExact())\r\n    }\r\n  }, [maxAmountInput, onUserInput])\r\n\r\n  const handleOutputSelect = useCallback(\r\n    (outputCurrency) => {\r\n      onCurrencySelection(Field.OUTPUT, outputCurrency)\r\n      if (outputCurrency.symbol === 'SYRUP') {\r\n        checkForWarning(outputCurrency.symbol, 'Buying')\r\n      }\r\n      if (outputCurrency.symbol === 'SAFEMOON') {\r\n        checkForWarning(outputCurrency.symbol, 'Buying')\r\n      }\r\n    },\r\n    [onCurrencySelection, checkForWarning]\r\n  )\r\n  useEffect(() => {\r\n    try {\r\n      document.body.classList.add('body')\r\n    } catch (e) {}\r\n  }, [])\r\n  return (\r\n    <>\r\n      <section className=\"defi_main\">\r\n        <div className=\"container \">\r\n          <div className=\"row\">\r\n            <div\r\n              //  className=\"custom_logo_set\"\r\n              className=\"logo_wheswap\"\r\n            >\r\n              <img src={logo} />\r\n            </div>\r\n            <div className=\"col-md-8 offset-md-2\">\r\n              <div className=\"defi_heading\">\r\n                <img src={Cake} />\r\n                <h1>Connect with wheswap and bridge the gap</h1>\r\n                <p>Swap, earn, yield stacks, welcome to the community driven platform, the home to DeFi.</p>\r\n              </div>\r\n              <div className=\"defi_btn\">\r\n                <a href=\"/#/swap\" className=\"btn button defi_button_bg mr_btn\" style={{ marginTop: '5px' }}>\r\n                  Enter App\r\n                </a>\r\n                <a href=\"#\" className=\"btn button\" style={{ marginTop: '5px' }}>\r\n                  Learn More\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-12\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-3\">\r\n                  <div className=\"defi_price_box\">\r\n                    <h1>Coming Soon</h1>\r\n\r\n                    <p>$WheSwap Price</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  <div className=\"defi_price_box\">\r\n                    <h1>Coming Soon</h1>\r\n\r\n                    <p>Total Liquidity</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  <div className=\"defi_price_box\">\r\n                    <h1>Coming Soon</h1>\r\n                    <p>Total Volume</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  <div className=\"defi_price_box\">\r\n                    <h1>Coming Soon</h1>\r\n\r\n                    <p>Total Pairs</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Swap\r\n"]},"metadata":{},"sourceType":"module"}